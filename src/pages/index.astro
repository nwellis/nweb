---
import Waves from "../components/3D/Waves";
import DefaultLayout from "../layouts/DefaultLayout.astro";
---

<script>
  const AnimateInStartClasses = "opacity-0 blur-sm -translate-x-full"
    .split(" ")
    .map((cls) => `motion-safe:${cls}`);

  const AnimateInEndClasses = "opacity-100 blur-none translate-x-0"
    .split(" ")
    .map((cls) => `motion-safe:${cls}`);

  const observer = new IntersectionObserver((entries) =>
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add(...AnimateInEndClasses);
        entry.target.classList.remove(...AnimateInStartClasses);
      } else {
        entry.target.classList.add(...AnimateInStartClasses);
        entry.target.classList.remove(...AnimateInEndClasses);
      }
    })
  );

  document.querySelectorAll("[data-animate-in]").forEach((element) => {
    element.classList.add(
      ...AnimateInStartClasses,
      "transition-all",
      "duration-700"
    );
    observer.observe(element);
  });
</script>

<title slot="head">Nick Ellis</title>

<DefaultLayout>
  <div class="h-96 opacity-30" slot="hero">
    <Waves colorHex={0xc4b5fd} client:only="react" />
  </div>

  <div class="flex flex-col">
    <div class="h-72 flex flex-col justify-center items-center">
      <h2
        data-animate-in
        class="text-2xl sm:text-3xl px-4 md:px-24 max-w-6xl text-center"
      >
        Recent work in <span class="text-brand-react font-bold">React</span> and
        <span class="text-brand-phaser font-bold brightness-125">Phaser</span> game
        development. Strong mobile experience with <span
          class="text-brand-android font-bold">Android</span
        > apps and <span class="font-bold text-accent-light">PWAs</span>.
      </h2>
    </div>
  </div>
</DefaultLayout>
